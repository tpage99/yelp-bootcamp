{"_id":"express-sanitizer","_rev":"21-879b90a6bf5d87359ee0bfec345c9f2c","name":"express-sanitizer","description":"Express middleware for the sanitizer module.","dist-tags":{"latest":"1.0.4"},"versions":{"0.1.0":{"name":"express-sanitizer","description":"Express middleware for the sanitizer module.","author":{"name":"Mark Andrews","email":"20metresbelow@gmail.com"},"version":"0.1.0","homepage":"https://github.com/markau/express-sanitizer","repository":{"type":"git","url":"git://github.com/markau/express-sanitizer.git"},"license":"MIT","main":"./index.js","scripts":{},"engines":{"node":"*"},"dependencies":{"sanitizer":"0.1.1"},"keywords":["express","sanitize","sanitization","xss"],"bugs":{"url":"https://github.com/markau/express-sanitizer/issues"},"_id":"express-sanitizer@0.1.0","_from":"express-sanitizer-0.1.0.tgz","dist":{"shasum":"eaca3b02d6a532dbfc3e3441d65d69841cf383ab","tarball":"https://registry.npmjs.org/express-sanitizer/-/express-sanitizer-0.1.0.tgz"},"_resolved":"express-sanitizer-0.1.0.tgz","_npmVersion":"1.3.21","_npmUser":{"name":"markau","email":"20metresbelow@gmail.com"},"maintainers":[{"name":"markau","email":"20metresbelow@gmail.com"}],"directories":{}},"0.1.1":{"name":"express-sanitizer","description":"Express middleware for the sanitizer module.","author":{"name":"Mark Andrews","email":"20metresbelow@gmail.com"},"version":"0.1.1","homepage":"https://github.com/markau/express-sanitizer","repository":{"type":"git","url":"git://github.com/markau/express-sanitizer.git"},"license":"MIT","main":"./index.js","scripts":{},"engines":{"node":"*"},"dependencies":{"sanitizer":"0.1.1"},"keywords":["express","sanitize","sanitization","xss"],"bugs":{"url":"https://github.com/markau/express-sanitizer/issues"},"_id":"express-sanitizer@0.1.1","_from":".","gitHead":"60bfc488080f00eef8a8adc1a677fa5128dcd952","_shasum":"33aede2c00e1891aea2c798d0bea5a4543c75588","_npmVersion":"1.4.28","_npmUser":{"name":"markau","email":"20metresbelow@gmail.com"},"maintainers":[{"name":"markau","email":"20metresbelow@gmail.com"}],"dist":{"shasum":"33aede2c00e1891aea2c798d0bea5a4543c75588","tarball":"https://registry.npmjs.org/express-sanitizer/-/express-sanitizer-0.1.1.tgz"},"directories":{}},"1.0.0":{"name":"express-sanitizer","description":"Express middleware for the sanitizer module.","author":{"name":"Mark Andrews","email":"20metresbelow@gmail.com"},"version":"1.0.0","homepage":"https://github.com/markau/express-sanitizer","repository":{"type":"git","url":"git://github.com/markau/express-sanitizer.git"},"license":"MIT","main":"./index.js","scripts":{},"engines":{"node":"*"},"dependencies":{"sanitizer":"1.0.0"},"keywords":["express","sanitize","sanitization","xss"],"bugs":{"url":"https://github.com/markau/express-sanitizer/issues"},"_id":"express-sanitizer@1.0.0","_from":".","gitHead":"70f4a27bd197c981f6c79fb02c20d478e05ce965","_shasum":"395db0e122f0778c1b9550d4daaf3187513db8e9","_npmVersion":"2.10.1","_nodeVersion":"0.12.4","_npmUser":{"name":"markau","email":"20metresbelow@gmail.com"},"dist":{"shasum":"395db0e122f0778c1b9550d4daaf3187513db8e9","tarball":"https://registry.npmjs.org/express-sanitizer/-/express-sanitizer-1.0.0.tgz"},"maintainers":[{"name":"markau","email":"20metresbelow@gmail.com"}],"directories":{}},"1.0.1":{"name":"express-sanitizer","description":"Express middleware for the sanitizer module.","author":{"name":"Mark Andrews","email":"20metresbelow@gmail.com"},"version":"1.0.1","homepage":"https://github.com/markau/express-sanitizer","repository":{"type":"git","url":"git://github.com/markau/express-sanitizer.git"},"license":"MIT","main":"./index.js","scripts":{},"engines":{"node":"*"},"dependencies":{"sanitizer":"0.1.2"},"keywords":["express","sanitize","sanitization","xss"],"bugs":{"url":"https://github.com/markau/express-sanitizer/issues"},"_id":"express-sanitizer@1.0.1","_from":".","gitHead":"70f4a27bd197c981f6c79fb02c20d478e05ce965","_shasum":"dbfcc28bf3b88a498a93e24f2697cf4f5dbe2c80","_npmVersion":"2.10.1","_nodeVersion":"0.12.4","_npmUser":{"name":"markau","email":"20metresbelow@gmail.com"},"dist":{"shasum":"dbfcc28bf3b88a498a93e24f2697cf4f5dbe2c80","tarball":"https://registry.npmjs.org/express-sanitizer/-/express-sanitizer-1.0.1.tgz"},"maintainers":[{"name":"markau","email":"20metresbelow@gmail.com"}],"directories":{}},"1.0.2":{"name":"express-sanitizer","description":"Express middleware for the sanitizer module.","author":{"name":"Mark Andrews","email":"20metresbelow@gmail.com"},"version":"1.0.2","homepage":"https://github.com/markau/express-sanitizer","repository":{"type":"git","url":"git://github.com/markau/express-sanitizer.git"},"license":"MIT","main":"./index.js","scripts":{},"engines":{"node":"*"},"dependencies":{"sanitizer":"0.1.3"},"keywords":["express","sanitize","sanitization","xss"],"bugs":{"url":"https://github.com/markau/express-sanitizer/issues"},"_id":"express-sanitizer@1.0.2","_from":".","gitHead":"e0168e5e709188705f6b918da9a91593f957daee","_shasum":"227efca714a9cbe33bb22158e9e3e8714d3a5275","_npmVersion":"3.8.6","_nodeVersion":"5.12.0","_npmUser":{"name":"markau","email":"20metresbelow@gmail.com"},"dist":{"shasum":"227efca714a9cbe33bb22158e9e3e8714d3a5275","tarball":"https://registry.npmjs.org/express-sanitizer/-/express-sanitizer-1.0.2.tgz"},"maintainers":[{"name":"markau","email":"20metresbelow@gmail.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/express-sanitizer-1.0.2.tgz_1486555062170_0.9121087749954313"},"directories":{}},"1.0.3":{"name":"express-sanitizer","description":"Express middleware for the sanitizer module.","author":{"name":"Mark Andrews","email":"20metresbelow@gmail.com"},"version":"1.0.3","homepage":"https://github.com/markau/express-sanitizer","repository":{"type":"git","url":"git://github.com/markau/express-sanitizer.git"},"license":"MIT","main":"./index.js","scripts":{},"engines":{"node":"*"},"dependencies":{"sanitizer":"0.1.3"},"keywords":["express","sanitize","sanitization","xss"],"bugs":{"url":"https://github.com/markau/express-sanitizer/issues"},"_id":"express-sanitizer@1.0.3","_from":"express-validator@latest","gitHead":"b8f973963f2380499183b7540c3868ac9261b72f","_npmVersion":"5.5.1","_nodeVersion":"8.9.1","_npmUser":{"name":"markau","email":"20metresbelow@gmail.com"},"dist":{"integrity":"sha512-CbjO7smvYq4cnQaGPNFzZSPx9GePERybhLAEyRBXKwEYjqP59S6z6fHTUXUzIFOitsNz98c9ytItSp1bcui2UA==","shasum":"ce78a1c6cec78b9d0c5525ff75ec68c47411ad10","tarball":"https://registry.npmjs.org/express-sanitizer/-/express-sanitizer-1.0.3.tgz"},"maintainers":[{"name":"markau","email":"20metresbelow@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/express-sanitizer-1.0.3.tgz_1516792733458_0.5060910941101611"},"directories":{}},"1.0.4":{"name":"express-sanitizer","description":"Express middleware for the sanitizer module.","author":{"name":"Mark Andrews","email":"20metresbelow@gmail.com"},"version":"1.0.4","homepage":"https://github.com/markau/express-sanitizer","repository":{"type":"git","url":"git://github.com/markau/express-sanitizer.git"},"license":"MIT","main":"./index.js","scripts":{},"engines":{"node":"*"},"dependencies":{"sanitizer":"0.1.3","underscore":"1.8.3"},"keywords":["express","sanitize","sanitization","xss"],"bugs":{"url":"https://github.com/markau/express-sanitizer/issues"},"_id":"express-sanitizer@1.0.4","_from":"express-validator@latest","gitHead":"2914e636579c53d34e4b3110ca27967dd3ed3f03","_npmVersion":"5.5.1","_nodeVersion":"8.9.1","_npmUser":{"name":"markau","email":"20metresbelow@gmail.com"},"dist":{"integrity":"sha512-Iy8NFdgEMcusd5rwHJ/TvCBg3lDp/R8lueLmy+7iFaAOjTW588mzVp4ZnlFsLiNwpdYNV1tQcLs13LwneXxT0w==","shasum":"5331a12de6577582901a6581e91e38a8b99a6ee2","tarball":"https://registry.npmjs.org/express-sanitizer/-/express-sanitizer-1.0.4.tgz","fileCount":4,"unpackedSize":4954},"maintainers":[{"name":"markau","email":"20metresbelow@gmail.com"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/express-sanitizer_1.0.4_1523451348766_0.9968539331726545"}}},"readme":"[![npm](https://img.shields.io/npm/v/express-sanitizer.svg?style=flat-square)](https://github.com/markau/express-sanitizer)\r\n[![Build Status](https://travis-ci.org/markau/express-sanitizer.png?branch=master&style=flat-square)](https://travis-ci.org/markau/express-sanitizer)\r\n[![npm](https://img.shields.io/npm/l/express.svg?style=flat-square)](https://github.com/markau/express-sanitizer)\r\n[![dependencies](https://david-dm.org/markau/express-sanitizer.svg?style=flat-square)](https://david-dm.org/markau/express-sanitizer)\r\n\r\n# express-sanitizer\r\n\r\nAn express middleware for [Caja-HTML-Sanitizer](https://github.com/theSmaw/Caja-HTML-Sanitizer), which wraps [Google Caja sanitizer](https://code.google.com/p/google-caja/wiki/JsHtmlSanitizer).  \r\n\r\nA useful complement to the [express-validator](https://github.com/ctavan/express-validator) -- to fill a gap now that XSS sanitization support has been removed from that module's parent [node-validator](https://github.com/chriso/node-validator).\r\n\r\n## Installation\r\n\r\nScaffold an application using [express-generator](http://expressjs.com/en/starter/generator.html)\r\n\r\nThen, install this library:\r\n```\r\nnpm install --save express-sanitizer\r\n```\r\n\r\n## Usage\r\n\r\n### Edit `app.js`\r\n\r\nImport the module with this declaration at the top of the file:\r\n\r\n```javascript\r\nvar expressSanitizer = require('express-sanitizer');\r\n```\r\n\r\nMount the middleware *below* the bodyParser() instantiations and *above* mounting of your routes\r\n\r\n```javascript\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\n\r\n// Mount express-sanitizer here\r\napp.use(expressSanitizer()); // this line follows bodyParser() instantiations\r\n\r\napp.use('/', index);\r\napp.use('/users', users);\r\n```\r\n\r\n### Edit `routes/index.js` and create a new route:\r\n\r\n```javascript\r\nrouter.post('/', function(req, res, next) {\r\n  // replace an HTTP posted body property with the sanitized string\r\n  req.body.sanitized = req.sanitize(req.body.propertyToSanitize);\r\n  // send the response\r\n  res.send('Your value was sanitized to: ' + req.body.sanitized);\r\n});\r\n```\r\n\r\nUse a client such as Postman to post a `x-www-form-encoded` body value, with key named `propertyToSanitize`, to `http://localhost:3000`\r\n\r\n## Output\r\n\r\nThe string \r\n```javascript\r\n'<script>hello</script> world'\r\n```\r\nwill be sanitized to ' world'.\r\n\r\n## Limitations\r\n\r\nThis is a basic implementation of [Caja-HTML-Sanitizer](https://github.com/theSmaw/Caja-HTML-Sanitizer) with the specific purpose of mitigating against persistent XSS risks (note the borderline abandonware comments in that repo). \r\n\r\n## Caveats\r\n\r\nThis module trusts the dependencies to provide basic persistent XSS risk mitigation. A user of this package should review all packages and make their own decision on security and fitness for purpose. \r\n\r\n## Changelog\r\n\r\n### v1.0.4\r\n- Merged PR #3 from Brian M. Jemilo II\r\n\r\n### v1.0.3\r\n- Updated README to base example on an express-generator scaffolded application\r\n\r\n### v1.0.2\r\n- Updated sanitizer dependency to 0.1.3\r\n- Merged PR #4 from @ScottRamsden\r\n\r\n### v1.0.1\r\n- Updated sanitizer dependency to 0.1.2\r\n\r\n### v1.0.0\r\n- Update to v1\r\n\r\n### v0.1.1\r\n- Merged PR removing unused dependency\r\n\r\n### v0.1.0\r\n- Initial release\r\n\r\n## Contributors\r\n\r\n- Mark Andrews <20metresbelow@gmail.com> \r\n- Patrick Hogan <patrick@callinize.com>\r\n- Scott Ramsden @ScottRamsden\r\n- Brian M. Jemilo II <jemiloii@jemiloii.com>\r\n\r\n## License\r\n\r\nCopyright (c) 2018 Mark Andrews <20metresbelow@gmail.com>, MIT License\r\n\r\n","maintainers":[{"name":"markau","email":"20metresbelow@gmail.com"}],"time":{"modified":"2018-04-11T12:55:49.676Z","created":"2014-02-09T02:07:01.678Z","0.1.0":"2014-02-09T02:07:01.678Z","0.1.1":"2015-01-23T10:22:57.134Z","1.0.0":"2015-09-16T00:16:03.131Z","1.0.1":"2015-09-16T01:40:41.241Z","1.0.2":"2017-02-08T11:57:43.981Z","1.0.3":"2018-01-24T11:18:53.523Z","1.0.4":"2018-04-11T12:55:48.860Z"},"readmeFilename":"README.md","homepage":"https://github.com/markau/express-sanitizer","keywords":["express","sanitize","sanitization","xss"],"repository":{"type":"git","url":"git://github.com/markau/express-sanitizer.git"},"author":{"name":"Mark Andrews","email":"20metresbelow@gmail.com"},"bugs":{"url":"https://github.com/markau/express-sanitizer/issues"},"license":"MIT","users":{"cjwilburn":true,"overcast":true,"asm2hex":true,"protovore":true,"adeelp":true,"iuykza":true,"cwooz":true,"milan322":true,"renchiliu":true,"ryaned":true,"omundy":true,"felipeferreirasilva":true},"_attachments":{},"_etag":"W/\"85419afee2fa3e0b4813f6e9b7639145\"","_lastModified":"Sun, 27 May 2018 00:11:43 GMT"}